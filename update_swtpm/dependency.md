# Dependency Installation Record

Keep record of dependencies needed to install swtpm on oldest supported OS in this project - Ubuntu 18.04.

- :white_check_mark: compile newer version of swtpm directly from github
    - remove: every compiled need to be uninstalled first
    - :white_check_mark: (compile) [libtpms](https://github.com/stefanberger/libtpms/blob/master/INSTALL) (required by swtpm)
        - :white_check_mark: (compile) openssl (required by libtpms)
            - done with installing 1.1.1w
        - :white_check_mark: (compile) pkg-config (required by new environment breaking swtpm compiling)
            - `./configure --with-internal-glib`
            - `make -j$(nproc)`
            - `sudo make install`
    - :x: (apt-get) libtasn1-6-dev (required by swtpm)
    - :white_check_mark: (compile) libtasn1-4.19.0 (required by swtpm)
        - gnu_compile
    - :x: (apt-get) json-glib-1.0 (required by swtpm) # available version is old but still work
    - :white_check_mark: (comiple) json-glib
        - :white_check_mark: ninja
            - `sudo -H $path_to_new_py/pip3.12 install ninja`
        - :white_check_mark: meson
            - :white_check_mark: python > 3.7.0
                - https://www.python.org/downloads/source/
                - `wget https://www.python.org/ftp/python/3.12.4/Python-3.12.4.tgz`
                - `tar xf Python-3.12.4.tgz`
                - `sudo ./configure --prefix=$(pwd) --exec-prefix=$(pwd) --enable-shared` note `--enable-optimizations` increase performance but require long tests
                - `sudo make -j$(nproc)`
                - `sudo make -jj$(nproc) altinstall`
                - `sudo -H $path_to_new_py/pip3.12 install -U pip setuptools`
            - https://github.com/mesonbuild/meson/releases/tag/1.4.1
            - `sudo -H $path_to_new_py/pip3.12 install meson`
        - :white_check_mark: (compile) glib (required by json-glib)
            - :white_check_mark: (pip) packaging (required by glib)
                - `sudo -H $path_to_new_py/pip3.12 install packaging`
            - :white_check_mark: (compile) libpcre (required by glib)
                - ref: https://github.com/PCRE2Project/pcre2
                - `wget https://github.com/PCRE2Project/pcre2/releases/download/pcre2-10.44/pcre2-10.44.tar.gz`
                - `tar xf pcre2-10.44.tar.gz`
                - `./configure`
                - `make -j$(nproc)`
                - `sudo make install`
            - https://gitlab.gnome.org/GNOME/glib
            - https://download.gnome.org/sources/glib/
            - `wget https://download.gnome.org/sources/glib/2.80/glib-2.80.3.tar.xz`
            - `tar xf glib-2.80.3.tar.gz`
            - `$path_to_new_py/meson setup _build`
            - `$path_to_new_py/meson compile -C _build`
            - `sudo $path_to_new_py/meson install -C _build`
            - ERROR: doesn't work because pkgconfig file is not created
            - `sudo cp _build/meson-private/*.pc /usr/local/lib/pkgconfig`
        - `wget https://download.gnome.org/sources/json-glib/1.8/json-glib-1.8.0.tar.xz`
        - `tar xf json-glib-1.8.0.tar.xz`
        - `$path_to_new_py/meson setup _build` # this one would fall back for git cloning dependencies, but might fail, require retry
        - `$path_to_new_py/meson compile -C _build`
        - `sudo $path_to_new_py/meson install -C _build`
        - ERROR: doesn't work because pkgconfig file is not created
        - `sudo cp _build/meson-private/*.pc /usr/local/lib/pkgconfig`
    - :white_check_mark: (compile) [tpm2-tss](https://github.com/tpm2-software/tpm2-tss) (required by swtpm)
        - :white_check_mark: (compile) [json-c](https://github.com/json-c/json-c/tree/master) (required by tpm2-tss)
        - :white_check_mark: (compile) libcurl (required by tpm2-tss)
            - `wget https://curl.se/download/curl-8.8.0.tar.gz`
            - `tar xf curl-8.8.0.tar.gz`
            - `./configure --with-openssl`
            - `make -j$(nproc)`
            - `sudo make install`
        - :x: (compile) uuid (required by tpm2-tss)
            - https://sourceforge.net/projects/libuuid/files/
            - `wget https://sourceforge.net/projects/libuuid/files/libuuid-1.0.3.tar.gz/download`
            - `tar xf libuuid-1.0.3.tar.gz`
            - `./configure`
            - `make -j$(nproc)`
            - `sudo make install`
            - compiled version way too old, break wget
        - :white_check_mark: (compile) util-linux (containing libuuid/uuid)
            - :white_check_mark: (compile) gettext (containing autopoint)
                - http://ftp.twaren.net/Unix/GNU/gnu/gettext/
                - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/gettext/gettext-0.22.tar.gz`
                - `tar xf gettext-0.22.tar.gz`
                - `./configure`
                - `make -j$(nproc)`
                - `make install`
            - :white_check_mark: (compile) flex (required by util-linux)
                - https://github.com/westes/flex
                - `wget https://github.com/westes/flex/releases/download/v2.6.3/flex-2.6.3.tar.gz`
                - `tar xf flex-2.6.3.tar.gz`
                - `./configure`
                - `make -j$(nproc)`
                - `make install`
                - note: 2.6.4 causing core dump when compiling
            - https://github.com/util-linux/util-linux/tags
            - `wget https://github.com/util-linux/util-linux/archive/refs/tags/v2.40.1.tar.gz`
            - `tar xf v2.40.1.tar.gz`
            - `./autogen.sh`
            - `./configure --disable-all-programs --enable-libuuid`
            - `make -j$(nproc)`
            - `sudo make install`
            - autogen.sh script will caused aclocal error, caused by automake 1.16.0
            - also, it's not recommended to install entire util-linux, might break system since its core utilities
    - :x: (compile) autogen (required by new automake, actually not needed)
        - :white_check_mark: (compile) guile (required by autogen)
            - :white_check_mark: (compile) libunistring (required by guile)
                - ref: http://ftp.twaren.net/Unix/GNU/gnu/libunistring/
                - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/libunistring/libunistring-1.2.tar.xz`
                - `tar xf libunistring-1.2.tar.xz`
                - `./configure`
                - `make -j$(nproc)`
                - `sudo make install`
            - [ ] (compile) libffi (required by guile)
                - ref: https://github.com/libffi/libffi 
                - `wget https://github.com/libffi/libffi/releases/download/v3.4.6/libffi-3.4.6.tar.gz`
                - `tar xf libffi-3.4.6.tar.gz`
                - `./configure`
                - `make -j$(nproc)`
            - ref: http://ftp.twaren.net/Unix/GNU/gnu/guile/
            - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/guile/guile-3.0.9.tar.xz`
            - `tar xf guile-3.0.9.tar.xz`
            - ./configure
        - ref: http://ftp.twaren.net/Unix/GNU/gnu/autogen/
        - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/autogen/rel5.18.16/autogen-5.18.16.tar.xz`
        - `tar xf autogen-5.18.16.tar.xz`
        - `./configure`
        - `make -j$(nproc)`
        - `sudo make install`
    - :white_check_mark: (compile) [gmp](https://gmplib.org/devel/repo-usage) (required by swtpm)
        - :white_check_mark: (apt-get) mercurial (required by libgmp-dev)
        - :white_check_mark: (compile) texinfo (required by gmp)
            - :white_check_mark: (compile) [automake](https://github.com/autotools-mirror/automake) (new version required by texinfo)
                - :white_check_mark: (compile) [autoconf](https://github.com/autotools-mirror/autoconf) (required by new automake)
                    - :grey_question: (apt-get) ftp
                    - :white_check_mark: (compile) help2man (required by autoconf)
                        - ref: https://www.gnu.org/software/help2man/
                        - ref: http://ftp.twaren.net/Unix/GNU/gnu/help2man/
                        - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/help2man/help2man-1.49.3.tar.xz`
                        - `tar xf help2man-1.49.3.tar.xz`
                        - `./configure`
                        - `make`
                        - `sudo make install`
                    - `./bootstrap`
                    - `./configure`
                    - `make -j$(nproc)`
                    - `sudo make install`
                - :white_check_mark: (compile) m4 (required by new automake)
                    - :white_check_mark: (compile) gperf (required by m4)
                        - ref: https://www.gnu.org/software/gperf/
                        - ref: http://ftp.twaren.net/Unix/GNU/gnu/gperf/
                        - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/gperf/gperf-3.1.tar.gz`
                        - `tar xf gperf-3.1.tar.gz`
                        - `./configure`
                        - `make`
                        - `sudo make install`
                    - ref: http://ftp.twaren.net/Unix/GNU/gnu/m4/
                    - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/m4/m4-latest.tar.xz`
                    - `tar xf m4-latest.tar.xz`
                    - `./configure`
                    - `make -j$(nproc)`
                    - `sudo make install`
        - :white_check_mark: (compile) [libtool](https://github.com/autotools-mirror/libtool) (required by gmp)
            - `./bootstrap`
            - `./configure`
            - `make -j$(nproc)`
            - `sudo make install`
        -  `hg clone https://gmplib.org/repo/gmp/ gmp`
        - `./.bootstrap`
        - `./configure`
        - `make -j$(nproc)`
        - `sudo make install`
    - :white_check_mark: (compile) gnutls (required by swtpm)
        - :x: (apt-get) unbound-anchor (required by gnutls) can't create root.key
        - :grey_question: (compile) libnettle (required by gnutls, require gmp)
        - http://ftp.twaren.net/Unix/GNU/gnu/nettle/
            - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/nettle/nettle-3.10.tar.gz`
            - `tar xf nettle-3.10.tar.gz`
            - `./configure`
            - `make -j$(nproc)`
            - `make install`
        - :x: (compile) gnulib (required by gnutls)
            - https://github.com/coreutils/gnulib/tags
            - `wget https://github.com/coreutils/gnulib/archive/refs/tags/v1.0.tar.gz`
            - `tar xf v1.0.tar.gz`
            - activate python virtualenv py3
            - `./gnulib-tool --create-testdir --with-tests --dir=../gnulib-build`
            - `cd ../gnulib-build`
            - `./configure`
            - `make dist`
        - :white_check_mark: (compile) gettext (required by gnutls)
            - http://ftp.twaren.net/Unix/GNU/gnu/gettext/
            - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/gettext/gettext-0.22.tar.gz`
            - `tar xf gettext-0.22.tar.gz`
            - `./configure`
            - `make -j$(nproc)`
            - `make install`
        - :white_check_mark: (apt-get) gtk-doc-tools (required by gnutls)
        - :question: (compile) gtk-doc (required by gnutls, can be before libtasn1, also can not)
            - :white_check_mark: (compile) libxslt (required by gtk-doc)
                - :white_check_mark: (compile) python2.7 (required by libxslt)
                    - https://www.python.org/downloads/source/
                    - `wget https://www.python.org/ftp/python/2.7.18/Python-2.7.18.tgz`
                    - `./configure --prefix=$(pwd) --exec-prefix=$(pwd) --enable-shared` note `--enable-optimizations` increase performance but require long tests
                    - `sudo make -j$(nproc)`
                    - `sudo make altinstall`
                    - `pc_files=($(find . -name '*.pc'))`
                    - `cd $(dirname ${pc_files[0]})`
                    - `sudo cp $(basename ${files[0]}) /usr/local/lib/pkgconfig`
                    - remove: `python-2.7.pc` `libffi.pc` `python.pc`
                - :x: (apt-get) python2.7-dev libpython2.7-dev
                - :white_check_mark: (compile) libxml (required by libxslt, requries python2.7)
                    - https://gitlab.gnome.org/GNOME/libxml2/-/releases
                    - `wget https://gitlab.gnome.org/GNOME/libxml2/-/archive/v2.13.1/libxml2-v2.13.1.tar.gz`
                    - `tar xf libxml2-v2.13.1.tar.gz`
                    - `./autogen.sh`
                    - `make`
                    - `make install`
                - https://gitlab.gnome.org/GNOME/libxslt/-/releases
                - `wget https://gitlab.gnome.org/GNOME/libxslt/-/archive/v1.1.41/libxslt-v1.1.41.tar.gz`
                - `tar xf libxslt-v1.1.41.tar.gz`
                - `./autogen.sh`
                - `make`
                - `make install`
            - :question: (compile) dblatex (required by gtk-doc), libxml2 problem?, requires libxslt
                - :grey_question: (compile) xslt with saxon (required by dblatex)
                    - binary is generated, but no pc file
                - :grey_question: (compile) epstopdf (required by dblatex)
                - :grey_question: (compile) fig2dev (required by dblatex)
                - :white_check_mark: (apt-get) texlive (required by dblatex)
                - :x: (compile) texlive (required by dblatex)
                    - way too hard to compile
                    - :white_check_mark: (compile) libX11 (required by texlive)
                        - :white_check_mark: (compile) macros-util-macros (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/util/macros/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/util/macros/-/archive/util-macros-1.20.1/macros-util-macros-1.20.1.tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) libXtrans (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/lib/libxtrans/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/lib/libxtrans/-/archive/xtrans-1.5.0/libxtrans-xtrans-1.5.0.tar.gz`
                            - `tar xf libxtrans-xtrans-1.5.0.tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) xproto (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/proto/xproto/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/proto/xproto/-/archive/xproto-7.0.31/xproto-xproto-7.0.31.tar.gz`
                            - `tar xf xproto....tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) xextproto (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/proto/xextproto/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/proto/xextproto/-/archive/xextproto-7.3.0/xextproto-xextproto-7.3.0.tar.gz`
                            - `tar xf xextproto....tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) libXcb (required by libX11)
                            - :white_check_mark: (compile) xcb-proto (required by libX11)
                                - https://gitlab.freedesktop.org/xorg/proto/xcbproto/-/tags
                                - `wget https://gitlab.freedesktop.org/xorg/proto/xcbproto/-/archive/xcb-proto-1.17.0/xcbproto-xcb-proto-1.17.0.tar.gz`
                                - `tar xf xcbproto....tar.gz`
                                - `./autogen.sh`
                                - `make`
                                - `sudo make install`
                            - :white_check_mark: (compile) xau (required by libX11)
                                - https://gitlab.freedesktop.org/xorg/lib/libxau/-/tags
                                - `wget https://gitlab.freedesktop.org/xorg/lib/libxau/-/archive/libXau-1.0.11/libxau-libXau-1.0.11.tar.gz`
                                - `tar xf libxau....tar.gz`
                                - `./autogen.sh`
                                - `make`
                                - `sudo make install`
                            - https://gitlab.freedesktop.org/xorg/lib/libxcb/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/lib/libxcb/-/archive/libxcb-1.17.0/libxcb-libxcb-1.17.0.tar.gz`
                            - `tar xf libxcb....tar.gz`
                            - `./autogen.sh`
                            - `make`
                        - :white_check_mark: (compile) kbproto (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/proto/kbproto/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/proto/kbproto/-/archive/kbproto-1.0.7/kbproto-kbproto-1.0.7.tar.gz`
                            - `tar xf kbproto....tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) inputproto (required by libX11)
                            - https://gitlab.freedesktop.org/xorg/proto/inputproto/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/proto/inputproto/-/archive/inputproto-2.3.2/inputproto-inputproto-2.3.2.tar.gz`
                            - `tar xf inputproto....tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - :white_check_mark: (compile) libXaw (required by libX11)
                            - [ ] (compile) xserver/xext (required by libXaw)
                                - :x: (compile) randrproto (required by xserver)
                                    - https://gitlab.freedesktop.org/xorg/proto/randrproto/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/proto/randrproto/-/archive/randrproto-1.5.0/randrproto-randrproto-1.5.0.tar.gz`
                                    - `tar xf randrproto....tar.gz`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                    - library deprecated https://gitlab.freedesktop.org/xorg/proto/randrproto/-/blob/master/autogen.sh?ref_type=heads
                                - :white_check_mark: (compile) xorgproto (required by xserver)
                                    - https://gitlab.freedesktop.org/xorg/proto/xorgproto/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/proto/xorgproto/-/archive/xorgproto-2024.1/xorgproto-xorgproto-2024.1.tar.gz`
                                    - `tar xf xorgproto.....tar.gz`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                    - `sudo cp *.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) pixman (required by xserver)
                                    - https://www.cairographics.org/snapshots/
                                    - `wget https://www.cairographics.org/snapshots/pixman-0.33.6.tar.gz`
                                    - `tar xf pixman....tar.gz`
                                    - `./configure`
                                    - `make`
                                    - `sudo make install`
                                - :white_check_mark: (compile) xshmfence (required by xserver)
                                    - https://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/archive/libxshmfence-1.3.2/libxshmfence-libxshmfence-1.3.2.tar.gz`
                                    - `tar xf libxsh....tar.gz`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                - :x: (compile) libbsd (required by xserver)
                                    - :x: (compile) libmd (required by xserver)
                                        - https://libbsd.freedesktop.org/releases/
                                        - `wget https://libbsd.freedesktop.org/releases/libmd-1.1.0.tar.xz`
                                        - `tar xf libmd....tar.xz`
                                        - `./configure`
                                        - `make`
                                        - `sudo make install`
                                        - not needed
                                    - https://gitlab.freedesktop.org/libbsd/libbsd/-/tags
                                    - `wget https://gitlab.freedesktop.org/libbsd/libbsd/-/archive/0.12.2/libbsd-0.12.2.tar.gz`
                                    - `tar xf libbsd....tar.gz`
                                    - `./autogen`
                                    - `./configure`
                                    - `make`
                                    - `sudo git clone https://gitlab.com/gnutls/gnutls.gitmake install`
                                    - doesn't generate pc files in none BSD os
                                - :grey_question: (compile) libbsd (required by xserver)
                                    - https://github.com/LuaDist/libbsd/tags
                                    - `wget https://github.com/LuaDist/libbsd/archive/refs/tags/0.3.0.tar.gz`
                                    - `tar xf libbsd....tar.gz`
                                    - `mkdir libbsd-build`
                                    - `cmake ../libbsd-0.3.0`
                                    - `make`
                                    - `sudo make install`
                                    - `sudo cp *.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) xkbcomp (required by xserver)
                                    - :white_check_mark: (compile) xkbfile xproto (required by xkbcomp)
                                        - https://gitlab.freedesktop.org/xorg/lib/libxkbfile/-/tags
                                        - `wget https://gitlab.freedesktop.org/xorg/lib/libxkbfile/-/archive/libxkbfile-1.1.3/libxkbfile-libxkbfile-1.1.3.tar.gz`
                                        - `tar xf libxkbfile....tar.gz`
                                        - `./autogen.sh`
                                        - `make`
                                        - `sudo make install`
                                    - https://gitlab.freedesktop.org/xorg/app/xkbcomp/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/app/xkbcomp/-/archive/xkbcomp-1.4.7/xkbcomp-xkbcomp-1.4.7.tar.gz`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                - :white_check_mark: (compile) libXfont (required by xserver)
                                    - :white_check_mark: (compile) freetype (required by libXfont)
                                        - https://sourceforge.net/projects/freetype/files/freetype2/
                                        - `wget https://sourceforge.net/projects/freetype/files/freetype2/2.13.2/freetype-2.13.2.tar.gz/download`
                                        - `tar xf freetype....tar.gz`
                                        - `./configure`
                                        - `make`
                                        - `sudo make install`
                                    - :white_check_mark: (compile) fontenc (required by libXfont)
                                        - :white_check_mark: (compile) util-font-util (required by fontenc)
                                            - https://gitlab.freedesktop.org/xorg/font/util/-/tags
                                            - `wget https://gitlab.freedesktop.org/xorg/font/util/-/archive/font-util-1.4.1/util-font-util-1.4.1.tar.gz`
                                            - `tar xf util-font-util....tar.gz`
                                            - `./autogen.sh`
                                            - `make`
                                            - `sudo make install`
                                        - https://gitlab.freedesktop.org/xorg/lib/libfontenc/-/tags
                                        - `wget https://gitlab.freedesktop.org/xorg/lib/libfontenc/-/archive/libfontenc-1.1.8/libfontenc-libfontenc-1.1.8.tar.gz`
                                        - `tar xf libfontenc....tar.gz`
                                        - `./autogen.sh`
                                        - `make`
                                        - `sudo make install`
                                    - https://gitlab.freedesktop.org/xorg/lib/libxfont/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/lib/libxfont/-/archive/libXfont2-2.0.6/libxfont-libXfont2-2.0.6.tar.gz`
                                    - `tar xf libxfont....tar.gz`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                - :grey_question: (compile) libsystemd (required by xserver)
                                    - :white_check_mark: (compile) libcap (required by libsystemd)
                                        - https://git.kernel.org/pub/scm/libs/libcap/libcap.git/
                                        - `wget https://git.kernel.org/pub/scm/libs/libcap/libcap.git/snapshot/libcap-2.70.tar.gz`
                                        - `tar xf libcap....tar.gz`
                                        - `make`
                                        - `sudo make install`
                                        - `cd libcap`
                                        - `sudo cp *.pc /usr/local/lib/pkgconfig`
                                    - :grey_question: (compile) libbpf (required by libsystemd)
                                        - :x: (compile) libelf (required by libbpf)
                                        - :white_check_mark: (apt-get) libelf-dev (required by libbpf)
                                            - :white_check_mark: (compile) zlib (required by libelf)
                                                - https://www.zlib.net/
                                                - `wget https://www.zlib.net/zlib-1.3.1.tar.gz`
                                                - `tar xf zlib....tar.gz`
                                                - `./configure`
                                                - `make`
                                                - `sudo make install`
                                            - `sudo apt install -y libelf-dev`
                                            - `pc_path=find /usr/lib/ -name libelf.pc`
                                            - `cd $(dirname $pc_path)`
                                            - `sudo cp libelf.pc /usr/local/lib/pkgconfig`
                                        - https://github.com/libbpf/libbpf/releases
                                        - `wget https://github.com/libbpf/libbpf/archive/refs/tags/v1.4.3.tar.gz`
                                        - `tar xf libbpf....tar.gz`
                                        - `cd src`
                                        - `make`
                                    - https://github.com/systemd/systemd/releases
                                    - `wget https://github.com/systemd/systemd/archive/refs/tags/v256.1.tar.gz`
                                    - `tar xf systemd....tar.gz`
                                    - source python3.x build environment
                                    - `meson setup _build`
                                - :grey_question: (compile) libsystemd-daemon (required by xserver)
                                - :white_check_mark: (compile) libxcvt (required by xserver)
                                    - https://gitlab.freedesktop.org/xorg/lib/libxcvt/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/lib/libxcvt/-/archive/libxcvt-0.1.2/libxcvt-libxcvt-0.1.2.tar.gz`
                                    - `tar xf libxcvt....tar.gz`
                                    - source python3.x build environment
                                    - `meson setup _build`
                                    - `sudo bahs -c 'source ~~~/bin/activate && ninja -C _build install'`
                                    - `cd _build/meson-private && sudo cp libxcvt.pc /usr/local/lib/pkgconfig`
                                    - `cd _build/meson-uninstalled && sudo cp libxcvt-uninstalled.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) wayland (required by xserver)
                                    - :white_check_mark: (compile) expat (required by wayland)
                                        - https://github.com/libexpat/libexpat/releases
                                        - `wget https://github.com/libexpat/libexpat/releases/download/R_2_6_2/expat-2.6.2.tar.gz`
                                        - `tar xf expat....tar.gz`
                                        - `./configure`
                                        - `make`
                                        - `sudo make install`
                                    - :x: (compile) graphviz (required by wayland)
                                        - https://graphviz.org/download/source/
                                        - `wget https://gitlab.com/api/v4/projects/4207231/packages/generic/graphviz-releases/11.0.0/graphviz-11.0.0.tar.gz`
                                        - `./configure`
                                        - `make`
                                        - `sudo make install`
                                        - not needed
                                    - :white_check_mark: (compile) xmlto (required by wayland)
                                        - https://www.linuxfromscratch.org/blfs/view/svn/pst/xmlto.html
                                        - `wget https://releases.pagure.org/xmlto/xmlto-0.0.28.tar.bz2`
                                        - `tar xf xmlto....tar.bz2`
                                        - `sed -ri 's/ifsense;|main/int &/' xmlif/xmlif.l`
                                        - `LINKS="/usr/bin/links" ./configure --prefix=/usr`
                                        - `make`
                                        - `sudo make -j6 install`
                                    - https://gitlab.freedesktop.org/wayland/wayland/-/tags
                                    - `wget https://gitlab.freedesktop.org/wayland/wayland/-/archive/1.23.0/wayland-1.23.0.tar.gz`
                                    - `tar xf wayland....tar.gz`
                                    - `mv meson.build meson.build.bak`
                                    - `sed -e '125,127d' meson.build.bak > meson.build` # remove documentation option, which requries tons of dependencies
                                    - source python3.x build environment
                                    - `meson setup _build`
                                    - `meson compile -C _build`
                                    - `meson install -C _build`
                                    - `cd _build/meson-private && sudo cp *.pc /usr/local/lib/pkgconfig`
                                    - `cd _build/meson-uninstalled && sudo cp *.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) wayland-protocols (required by xserver)
                                    - https://gitlab.freedesktop.org/wayland/wayland-protocols/-/releases
                                    - `wget https://gitlab.freedesktop.org/wayland/wayland-protocols/-/archive/1.36/wayland-protocols-1.36.tar.gz`
                                    - `tar xf wayland-protocols....tar.gz`
                                    - `mv meson.build meson.build.bak`
                                    - `sed -e '139,141d' meson.build.bak > meson.build` # remove test option, which can't get variable from installed wayland-scanner.pc
                                    - `meson setup _build`
                                    - `meson compile -C _build`
                                    - `meson install -C _build`
                                - :white_check_mark: (compile) libdrm (required by xserver)
                                    - https://dri.freedesktop.org/libdrm/
                                    - `wget https://dri.freedesktop.org/libdrm/libdrm-2.4.121.tar.xz`
                                    - `tar xf libdrm....tar.xz`
                                    - source python3.x build environment
                                    - `meson setup _build`
                                    - `meson compile -C _build`
                                    - `meson install -C _build`
                                    - `cd _build/meson-private && sudo cp *.pc /usr/local/lib/pkgconfig`
                                    - `cd _build/meson-uninstalled && sudo cp *.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) libepoxy (required by xserver)
                                    - :x: (compile) EGL (required by libepoxy)
                                    - :white_check_mark: (apt-get) libglfw3 libgles2-mesa-dev (required by libepoxy)
                                    - https://github.com/anholt/libepoxy/releases
                                    - `wget https://github.com/anholt/libepoxy/archive/refs/tags/1.5.10.tar.gz`
                                    - `tar xf libepoxy....tar.gz`
                                    - `cp meson.build meson.build.bak`
                                    - `sed -i "/gl_dep = dependency('gl', required: false)/c\gl_dep = dependency('gl', required: false, static: true)" meson.build`
                                    - source python3.x build environment
                                    - `meson setup _build`
                                    - `meson compile -C _build`
                                    - `meson install -C _build`
                                    - `cd _build/meson-private && sed -i "/Requires.private: x11, /c\Requires.private: x11" epoxy.pc && sudo cp *.pc /usr/local/lib/pkgconfig`
                                    - `cd _build/meson-uninstalled && sed -i "/Requires.private: x11, /c\Requires.private: x11" epoxy-uninstalled.pc && sudo cp *.pc /usr/local/lib/pkgconfig`
                                - :white_check_mark: (compile) libXdmcp (required by xserver)
                                    - https://gitlab.freedesktop.org/xorg/lib/libxdmcp/-/tags
                                    - `wget https://gitlab.freedesktop.org/xorg/lib/libxdmcp/-/archive/libXdmcp-1.1.5/libxdmcp-libXdmcp-1.1.5.tar.gz`
                                    - `tar libxdmcp....tar.gz`
                                    - `cp configure.ac configure.ac.bak`
                                    - `sed -i '/doc\/Makefile/d' configure.ac`
                                    - `cp Makefile.am Makefile.am.bak`
                                    - `sed -i '/SUBDIRS=doc . test/c\SUBDIRS= . test' Makefile.am`
                                    - `./autogen.sh`
                                    - `make`
                                    - `sudo make install`
                                    - `sudo cp xdmcp.pc /usr/local/lib/pkgconfig`
                                - :question: (compile) mesa (required by xserver)
                                    - :question: (compile) glslang (required by mesa)
                                        - :question: (compile) gcc-17 (required by mesa)
                                            - :white_check_mark: (compile) gmp (required by gcc)
                                            - :white_check_mark: (compile) mpfr (required by gcc)
                                                - http://ftp.twaren.net/Unix/GNU/gnu/mpfr/
                                                - `wget ftp.twaren.net/Unix/GNU/gnu/mpfr/mpfr-4.2.1.tar.gz`
                                                - `./configure`
                                                - `make`
                                                - `sudo make install`
                                            - :white_check_mark: (compile) mpc (required by gcc, require mpfr)
                                                - http://ftp.twaren.net/Unix/GNU/gnu/mpc/
                                                - `wget ftp.twaren.net/Unix/GNU/gnu/mpc/mpc-1.3.1.tar.gz`
                                                - `./configure`
                                                - `make`
                                                - `sudo make install`
                                            - http://ftp.twaren.net/Unix/GNU/gnu/gcc/
                                            - `wget ftp.twaren.net/Unix/GNU/gnu/gcc/gcc-14.1.0/gcc-14.1.0.tar.gz`
                                        - https://github.com/KhronosGroup/glslang/releases
                                        - `wget https://github.com/KhronosGroup/glslang/archive/refs/tags/14.2.0.tar.gz`
                                        - `tar xf glslang....tar.gz`
                                        - source python3.x build environment
                                        - `./update_glslang_sources.py`
                                        - `mkdir glslang-build`
                                        - `cmake -DCMAKE_BUILD_TYPE=Release ../glslang-14.2.0`
                                    - https://gitlab.freedesktop.org/mesa/mesa/-/tags
                                    - `wget https://gitlab.freedesktop.org/mesa/mesa/-/archive/mesa-24.1.2/mesa-mesa-24.1.2.tar.gz`
                                    - `tar xf mesa....tar.gz`
                                - https://gitlab.freedesktop.org/xorg/xserver/-/tags
                                - `wget https://gitlab.freedesktop.org/xorg/xserver/-/archive/xwayland-24.1.0/xserver-xwayland-24.1.0.tar.gz`
                                - `tar xf xserver....tar.gz`
                                - source python3.x build environment
                                - `meson setup _build`
                                - `meson compile -C _build`
                                - `meson install -C _build`
                            - [ ] (compile) xt (required by libXaw)
                            - [ ] (compile) xmu (required by libXaw)
                            - https://gitlab.freedesktop.org/xorg/lib/libxaw/-/tags
                            - `wget https://gitlab.freedesktop.org/xorg/lib/libxaw/-/archive/libXaw-1.0.16/libxaw-libXaw-1.0.16.tar.gz`
                            - `tar xf libxaw....tar.gz`
                            - `./autogen.sh`
                            - `make`
                            - `sudo make install`
                        - https://github.com/mirror/libX11/tags
                        - `wget https://github.com/mirror/libX11/archive/refs/tags/libX11-1.8.4.tar.gz`
                        - `tar xf libX11....tar.gz`
                        - `./autogen.sh`
                        - `make`
                        - `sudo make install`
                    - https://github.com/TeX-Live/texlive-source/releases
                    - `wget https://github.com/TeX-Live/texlive-source/archive/refs/tags/svn70897.tar.gz`
                    - `tar xf svn70897.tar.gz`
                    - `./configure --enable-build-in-source-tree`
                    - `make`
                - [ ] (compile) makeindex (required by dblatex)
                - [ ] (compile) kpsewhich (required by dblatex)
                - https://sourceforge.net/projects/dblatex/files/dblatex/
                - `wget https://sourceforge.net/projects/dblatex/files/dblatex/dblatex-0.3.12/dblatex3-0.3.12.tar.bz2/download`
                - `tar xf dblatex3-0.3.12.tar.bz2`
                - `python setup.py build`
                - `sudo python setup.py install`
            - :x: (compile) docbook (required by gtk-doc)
                - unable to find source
            - https://gitlab.gnome.org/GNOME/gtk-doc/-/tags
            - note: no need to source virtualenv, it only requires 3.x not > 3.7
            - `wget https://gitlab.gnome.org/GNOME/gtk-doc/-/archive/1.34.0/gtk-doc-1.34.0.tar.gz`
            - `tar xf gtk-doc-1.34.0.tar.gz`
            - `./autogen.sh`
        - :white_check_mark: (compile) nettle (required by gnutls), previous compiled
        - :white_check_mark: (compile) libunistring (required by gnutls), previous compiled
            - http://ftp.twaren.net/Unix/GNU/gnu/libunistring/
            - `wget ftp://ftp.twaren.net/Unix/GNU/gnu/libunistring/libunistring-1.2.tar.gz`
            - `tar xf libunistring....tar.gz`
            - `./configure`
            - `make`
            - `sudo make install`
        - :white_check_mark: (compile) libev (required by gnutls)
            - https://github.com/mksdev/libev-release/tags
            - `wget https://github.com/mksdev/libev-release/archive/refs/tags/v4.33.tar.gz`
            - `tar xf libev....tar.gz`
            - `./configure`
            - `make`
            - `sudo make install`
        - :x: (apt-get) unbound (required by gnutls)
            - doesn't install pkgconfig files
        - :question: (compile) libunbound (required by gnutls, require openssl)
            - :white_check_mark: (compile) expat (required by unbound)
            - :white_check_mark: (compile) bison (required by unbound)
            - :white_check_mark: (compile) flex (required by unbound)
            - https://github.com/NLnetLabs/unbound/releases
            - `wget https://github.com/NLnetLabs/unbound/archive/refs/tags/release-1.20.0.tar.gz`
            - `tar xf unbound....tar.gz`
            - `./configure`
            - `make`
            - can't get pass this point with following error
            ```
            /tmp/cc5QbUMs.ltrans0.ltrans.o: In function `daemon_delete.part.1':
            /home/tpm6/Downloads/unbound-release-1.20.0/daemon/daemon.c:921: undefined reference to `ub_c_lex_destroy'
            /tmp/cc5QbUMs.ltrans2.ltrans.o: In function `config_read':
            /home/tpm6/Downloads/unbound-release-1.20.0/util/config_file.c:1456: undefined reference to `ub_c_in'
            /tmp/cc5QbUMs.ltrans11.ltrans.o: In function `ub_c_parse':
            /home/tpm6/Downloads/unbound-release-1.20.0/util/configparser.c:2833: undefined reference to `ub_c_lex'
            collect2: error: ld returned 1 exit status
            Makefile:369: recipe for target 'unbound' failed
            make: *** [unbound] Error 1
            ```
            - `sudo make install`
        - :white_check_mark: (compile) p11-kit-1 (required by gnutls)
            - https://github.com/p11-glue/p11-kit/releases
            - `wget https://github.com/p11-glue/p11-kit/releases/download/0.25.3/p11-kit-0.25.3.tar.xz`
            - `tar xf p11....tar.xz`
            - `./configure`
            - `make`
            - `sudo make install`
        - gnu website version is too old, new version requires a lot of dependencies
        - install a lot of libraries, maybe should be the first few to install?
        - `echo "check_certificate = off" >> ~/.wetrc` # to bypass wget certification check, should only be used if wget returns certificate error, shoudl disable after use
        - https://gitlab.com/gnutls/gnutls
        - `git clone https://gitlab.com/gnutls/gnutls.git` # there seems to be no other way around to actually get `.git` directory
        - `./bootstrap`
        - `./configure`
        - `make -j$(nproc)`
        - `sudo make install`
    - :question: (compile) tcsd (required by swtpm)
    - :question: (compile) tpm-tools (optionally required by swtpm)
    - :question: (compile) tpm2-tools (optionally required by swtpm)
    - :question: (compile) tpm2-tss-engine (optionally required by swtpm)
